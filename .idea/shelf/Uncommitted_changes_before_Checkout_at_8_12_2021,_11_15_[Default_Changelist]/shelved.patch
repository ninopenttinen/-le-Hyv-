Index: app/src/main/java/com/example/ole/RecipeView.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.ole;\n\nimport android.content.Intent;\nimport android.os.Bundle;\nimport android.view.MenuItem;\nimport android.view.View;\nimport android.widget.ArrayAdapter;\nimport android.widget.Button;\nimport android.widget.CheckedTextView;\nimport android.widget.ImageView;\nimport android.widget.ListView;\nimport android.widget.TextView;\nimport android.widget.Toast;\nimport android.widget.ToggleButton;\n\nimport androidx.annotation.NonNull;\nimport androidx.appcompat.app.AppCompatActivity;\nimport androidx.lifecycle.ViewModelProvider;\n\nimport com.example.ole.model.Ingredient;\nimport com.example.ole.model.Recipe;\nimport com.example.ole.viewmodel.RecipeViewModel;\nimport com.google.android.material.bottomnavigation.BottomNavigationView;\n\nimport org.parceler.Parcels;\n\nimport java.util.ArrayList;\nimport java.util.List;\nimport java.util.stream.Collectors;\n\n\npublic class RecipeView extends AppCompatActivity implements BottomNavigationView.OnNavigationItemSelectedListener {\n\n  BottomNavigationView bottomNavigationView;\n  private List<Ingredient> ingredientsToCart;\n  private RecipeViewModel recipeViewModel;\n  private Recipe recipe;\n  private Button cartButton;\n\n  @Override\n  protected void onCreate(Bundle savedInstanceState) {\n    super.onCreate(savedInstanceState);\n    setContentView(R.layout.activity_recipe_view);\n    recipe = Parcels.unwrap(getIntent().getParcelableExtra(\"recipe\"));\n\n    recipeViewModel = new ViewModelProvider(this, new ViewModelProvider.AndroidViewModelFactory(this.getApplication()))\n        .get(RecipeViewModel.class);\n\n    initCartButton();\n    initRecipeElements();\n    initToggleButton();\n    handleTimeElements();\n    createListView(recipe.getIngredients());\n\n    bottomNavigationView = findViewById(R.id.bottom_navigation_view);\n    bottomNavigationView.setOnNavigationItemSelectedListener(RecipeView.this);\n    bottomNavigationView.setSelectedItemId(R.id.bottom_menu_button_home);\n  }\n\n  @Override\n  public void onBackPressed() {\n    // TODO Auto-generated method stub\n    String homeState = getIntent().getStringExtra(\"HomeState\");\n    String category = getIntent().getStringExtra(\"category\");\n\n    //boolean callerFavorites = getIntent().getBooleanExtra(\"callerFavorites\", false);\n\n/*    if (callerFavorites){\n      callerFavorites = false;\n      Intent backIntentFavorites = new Intent(RecipeView.this, FavoritesView.class);\n      backIntentFavorites.putExtra(\"HomeState\", \"recipeView\");\n      backIntentFavorites.putExtra(\"category\", category);\n      backIntentFavorites.putExtra(\"recipe\", Parcels.wrap(recipe));\n\n      startActivity(backIntentFavorites);\n      overridePendingTransition(0, 0);\n    }\n    else {\n\n */\n      Intent backIntent = new Intent(RecipeView.this, SuggestionsView.class);\n      backIntent.putExtra(\"category\", category);\n      backIntent.putExtra(\"HomeState\", homeState);\n      startActivity(backIntent);\n      overridePendingTransition(0, 0);\n    //}\n  }\n\n  public boolean onNavigationItemSelected(@NonNull MenuItem item) {\n    String category = getIntent().getStringExtra(\"category\");\n    switch (item.getItemId()) {\n      case R.id.bottom_menu_button_home:\n        return true;\n\n      case R.id.bottom_menu_button_favorites:\n        Intent intentFavorites = new Intent(RecipeView.this, FavoritesView.class);\n        intentFavorites.putExtra(\"HomeState\", \"recipeView\");\n        intentFavorites.putExtra(\"category\", category);\n        intentFavorites.putExtra(\"recipe\", Parcels.wrap(recipe));\n        startActivity(intentFavorites);\n        overridePendingTransition(0, 0);\n        break;\n\n      case R.id.bottom_menu_button_cart:\n        Intent intentCart = new Intent(RecipeView.this, ShoppingCartView.class);\n        intentCart.putExtra(\"HomeState\", \"recipeView\");\n        intentCart.putExtra(\"category\", category);\n        intentCart.putExtra(\"recipe\", Parcels.wrap(recipe));\n        startActivity(intentCart);\n        overridePendingTransition(0, 0);\n        break;\n\n      case R.id.bottom_menu_button_filters:\n        Intent intentSettings = new Intent(RecipeView.this, FiltersView.class);\n        intentSettings.putExtra(\"HomeState\", \"recipeView\");\n        intentSettings.putExtra(\"category\", category);\n        intentSettings.putExtra(\"recipe\", Parcels.wrap(recipe));\n        startActivity(intentSettings);\n        overridePendingTransition(0, 0);\n        break;\n    }\n    return false;\n  }\n\n  private void initCartButton() {\n    cartButton = findViewById(R.id.AddToCartButton);\n    cartButton.setVisibility(View.GONE);\n    cartButton.setTextSize(14);\n  }\n\n  private void initRecipeElements() {\n    TextView recipeNameTextView = findViewById(R.id.recipeNameTextView);\n    recipeNameTextView.setText(getString(R.string.recipe_name_value, recipe.getLabel()));\n\n    ImageView recipeImageView = findViewById(R.id.recipeImageView);\n    recipeImageView.setImageBitmap(recipe.getImage());\n  }\n\n  private void initToggleButton() {\n    ToggleButton toggle = findViewById(R.id.addRemoveButton2);\n    if (checkFavorites(recipe)) {\n      toggle.setTextOff(\"Remove From Favorites\");\n      toggle.setChecked(true);\n    } else {\n      toggle.setTextOn(\"Add To Favorites\");\n      toggle.setChecked(false);\n    }\n\n    toggle.setOnClickListener(v -> {\n      if (toggle.isChecked()) {\n        toggle.setTextOn(\"Remove From Favorites\");\n        addToFav(recipe);\n        toggle.setChecked(true);\n      } else {\n        toggle.setTextOff(\"Add To Favorites\");\n        removeFromFav(recipe);\n        toggle.setChecked(false);\n      }\n    });\n  }\n\n  private void handleTimeElements() {\n    TextView recipeTotalTime = findViewById(R.id.timeTextNumberView);\n    TextView recipeTotalTimeView = findViewById(R.id.timeTextView);\n\n    if (recipe.getTotalTime().equals(\"0.0\")) {\n      recipeTotalTime.setVisibility(View.GONE);\n      recipeTotalTimeView.setVisibility(View.GONE);\n    } else {\n      recipeTotalTime.setText(recipe.getTotalTime());\n    }\n  }\n\n  private void createListView(List<Ingredient> ingredients) {\n    List<Ingredient> tempIngList = new ArrayList<>();\n    ListView listView;\n    ArrayAdapter adapter;\n    listView = findViewById(R.id.ingredients_list_view);\n\n    adapter = new ArrayAdapter(RecipeView.this,\n        R.layout.simple_list_item_multiple_choice,\n        ingredients.stream()\n            .map(Ingredient::getText)\n            .collect(Collectors.toList()));\n\n    listView.setAdapter(adapter);\n\n    listView.setOnItemClickListener((parent, view, position, id) -> {\n\n      CheckedTextView checkedTextView = ((CheckedTextView) view);\n      checkedTextView.setChecked(!checkedTextView.isChecked());\n\n      if (checkedTextView.isChecked()) {\n        tempIngList.add(ingredients.get(position));\n      } else {\n        tempIngList.remove(ingredients.get(position));\n      }\n      cartButton.setEnabled(!tempIngList.isEmpty());\n\n      if (tempIngList.isEmpty()) {\n        cartButton.setVisibility(View.GONE);\n      } else {\n        cartButton.setVisibility(View.VISIBLE);\n      }\n    });\n    ingredientsToCart = tempIngList;\n  }\n\n  public void onClickUrl(View view) {\n    Intent intent = new Intent(getApplicationContext(), WebViewView.class);\n    intent.putExtra(\"url\", recipe.getUrl());\n    startActivity(intent);\n    overridePendingTransition(0, 0);\n  }\n\n  public void AddToCart(View view) {\n    recipeViewModel.addToCart(ingredientsToCart);\n    Toast.makeText(RecipeView.this, \"Shopping Cart Updated\", Toast.LENGTH_SHORT).show();\n  }\n\n  public void addToFav(Recipe recipe) {\n    recipeViewModel.addRecipeToFavourites(recipe);\n  }\n\n  public void removeFromFav(Recipe recipe) {\n    recipeViewModel.removeRecipeFromFavourites(recipe);\n  }\n\n  public boolean checkFavorites(Recipe recipe) {\n    return recipeViewModel.checkFavorites(recipe);\n  }\n}\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/ole/RecipeView.java b/app/src/main/java/com/example/ole/RecipeView.java
--- a/app/src/main/java/com/example/ole/RecipeView.java	
+++ b/app/src/main/java/com/example/ole/RecipeView.java	
@@ -76,8 +76,6 @@
       overridePendingTransition(0, 0);
     }
     else {
-
- */
       Intent backIntent = new Intent(RecipeView.this, SuggestionsView.class);
       backIntent.putExtra("category", category);
       backIntent.putExtra("HomeState", homeState);
